<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeVenture</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" rel="stylesheet">
    <link rel="icon" href="/image/common/logo.png">
    <link rel="stylesheet" th:href="@{/css/common/index.css}">
    <link rel="stylesheet" th:href="@{/css/member/login.css}">
</head>
<body>
<div th:replace="~{common/header :: header}"></div>
<div class="login-container">
    <div class="login-content">
        <h2>TimeVenture에 오신 것을 환영합니다!</h2>
        <p>시작하려면 로그인하세요</p>
        <button id="google-login" class="google-login-button">
            <img src="/image/project/google.png" alt="Google Icon">
            google로 계속
        </button>
        <div class="login_or">
            <span>또는</span>
        </div>
        <input type="email" placeholder="이메일 주소" id="email-input">
        <button id="continue-button" class="continue-button">계속</button>
        <p class="signup-link">
            계정이 없으신가요? <a href="/join">가입하기</a>
        </p>
    </div>
</div>

<script>
    document.getElementById('google-login').addEventListener('click', function() {
        // POST 요청을 보내서 Google 로그인 URL을 가져옵니다.
        fetch('/api/v1/oauth2/google/url', {
            method: 'POST'
        })
            .then(response => response.text())
            .then(url => {
                // 받아온 URL로 리디렉션합니다.
                window.location.href = url;
            })
            .catch(error => console.error('Error:', error));
    });

    document.addEventListener('DOMContentLoaded', function() {
        // 계속 버튼을 가져옵니다.
        var continueButton = document.getElementById('continue-button');

        // 계속 버튼에 클릭 이벤트를 추가합니다.
        continueButton.addEventListener('click', function() {
            // 버튼이 클릭되었을 때 실행될 동작을 정의합니다.
            window.location.href = '/emailLogin';
        });
    });
</script>

</body>
</html>